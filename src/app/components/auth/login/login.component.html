<!-- src/app/components/auth/login/login.component.html -->

<div
    class="h-screen text-bluegray-200"
    style="background: #3f3f3f"
>
    <div class="flex justify-content-center align-items-center h-full">
        <div
            class="h-full text-center py-6 px-4 flex justify-content-between flex-column max-w-30rem"
        >
            <a [routerLink]="['/']">
                <img
                    src="assets/layout/images/logo.png"
                    alt="poseidon-layout"
                    height="200px"
                />
            </a>
            <div>
                <p class="font-semibold m-0 text-bluegray-100 mb-5">
                    Please enter your provided login credentials.
                </p>
                <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                    <input
                        type="text"
                        autocomplete="off"
                        pInputText
                        placeholder="Email"
                        class="w-11 mb-4 text-bluegray-600 surface-ground"
                        formControlName="email"
                    />
                    <div *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" class="text-red-500">
                        Please enter a valid email.
                    </div>
                    <input
                        type="password"
                        autocomplete="off"
                        pInputText
                        placeholder="Password"
                        class="w-11 mb-4 text-bluegray-600 surface-ground"
                        formControlName="password"
                    />
                    <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="text-red-500">
                        Password is required.
                    </div>
                    <button
                        pButton
                        pRipple
                        label="LOGIN"
                        type="submit"
                        class="w-11"
                        [disabled]="loginForm.invalid || (loading$ | async)"
                    ></button>
                </form>
                <!-- Display error message from store -->
                <div *ngIf="errorMessage$ | async as errorMessage" class="text-red-500 mt-4">
                    {{ errorMessage }}
                </div>
                <!-- Display loading indicator -->
                <div *ngIf="loading$ | async" class="mt-4 card flex justify-content-center">
                    <p-progressSpinner aria-label="loading"/>
                </div>
            </div>

            <p class="font-semibold m-0 text-bluegray-200">

            </p>
        </div>
    </div>
</div>
<app-config [minimal]="true"></app-config>
